FROM openjdk:14-jdk-alpine
MAINTAINER Kotov Svyatoslav
ADD /build/libs/Shopclient_module-0.0.1-SNAPSHOT.jar shopclient-module.jar

ENV SERVER_PORT=8082
ENV GRPC_SERVER_PORT=9071

ENV SPRING_KAFKA_BOTSTRAP-SERVERS=90.156.225.74:29092
ENV SPRING_KAFKA_CONSUMER_AUTO-OFFSET-RESET=earliest
ENV SPRING_KAFKA_PRODUCER_ACKS=1
ENV SPRING_KAFKA_ADMIN_CLIENT-ID=2

ENV SPRING_DATASOURCE_URL=jdbc:postgresql://192.168.99.100:5432/client_module
ENV SPRING_DATASOURCE_USERNAME=postgres
ENV SPRING_DATASOURCE_PASSWORD=postgres

ENV SPRING_RABBITMQ_HOST=192.168.99.100
ENV SPRING_RABBITMQ_PORT=5672
ENV SPRING_RABBITMQ_USERNAME=root
ENV SPRING_RABBITMQ_PASSWORD=root
ENTRYPOINT java -jar /shopclient-module.jar